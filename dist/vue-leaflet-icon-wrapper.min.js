!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self)["vue-leaflet-icon-wrapper"]={})}(this,function(e){"use strict";!function(e,t,n){if(e.MutationObserver&&"undefined"!=typeof HTMLElement){var o,r=0,i=(o=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector,{matchesSelector:function(e,t){return e instanceof HTMLElement&&o.call(e,t)},addMethod:function(e,t,n){var o=e[t];e[t]=function(){return n.length==arguments.length?n.apply(this,arguments):"function"==typeof o?o.apply(this,arguments):void 0}},callCallbacks:function(e,t){t&&t.options.onceOnly&&1==t.firedElems.length&&(e=[e[0]]);for(var n,o=0;n=e[o];o++)n&&n.callback&&n.callback.call(n.elem,n.elem);t&&t.options.onceOnly&&1==t.firedElems.length&&t.me.unbindEventWithSelectorAndCallback.call(t.target,t.selector,t.callback)},checkChildNodesRecursively:function(e,t,n,o){for(var r,l=0;r=e[l];l++)n(r,t,o)&&o.push({callback:t.callback,elem:r}),r.childNodes.length>0&&i.checkChildNodesRecursively(r.childNodes,t,n,o)},mergeArrays:function(e,t){var n,o={};for(n in e)e.hasOwnProperty(n)&&(o[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&(o[n]=t[n]);return o},toElementsArray:function(t){return void 0===t||"number"==typeof t.length&&t!==e||(t=[t]),t}}),l=function(){var e=function(){this._eventsBucket=[],this._beforeAdding=null,this._beforeRemoving=null};return e.prototype.addEvent=function(e,t,n,o){var r={target:e,selector:t,options:n,callback:o,firedElems:[]};return this._beforeAdding&&this._beforeAdding(r),this._eventsBucket.push(r),r},e.prototype.removeEvent=function(e){for(var t,n=this._eventsBucket.length-1;t=this._eventsBucket[n];n--)if(e(t)){this._beforeRemoving&&this._beforeRemoving(t);var o=this._eventsBucket.splice(n,1);o&&o.length&&(o[0].callback=null)}},e.prototype.beforeAdding=function(e){this._beforeAdding=e},e.prototype.beforeRemoving=function(e){this._beforeRemoving=e},e}(),c=function(t,o){var r=new l,c=this,a={fireOnAttributesModification:!1};return r.beforeAdding(function(n){var r,i=n.target;i!==e.document&&i!==e||(i=document.getElementsByTagName("html")[0]),r=new MutationObserver(function(e){o.call(this,e,n)});var l=t(n.options);r.observe(i,l),n.observer=r,n.me=c}),r.beforeRemoving(function(e){e.observer.disconnect()}),this.bindEvent=function(e,t,n){t=i.mergeArrays(a,t);for(var o=i.toElementsArray(this),l=0;l<o.length;l++)r.addEvent(o[l],e,t,n)},this.unbindEvent=function(){var e=i.toElementsArray(this);r.removeEvent(function(t){for(var o=0;o<e.length;o++)if(this===n||t.target===e[o])return!0;return!1})},this.unbindEventWithSelectorOrCallback=function(e){var t,o=i.toElementsArray(this),l=e;t="function"==typeof e?function(e){for(var t=0;t<o.length;t++)if((this===n||e.target===o[t])&&e.callback===l)return!0;return!1}:function(t){for(var r=0;r<o.length;r++)if((this===n||t.target===o[r])&&t.selector===e)return!0;return!1},r.removeEvent(t)},this.unbindEventWithSelectorAndCallback=function(e,t){var o=i.toElementsArray(this);r.removeEvent(function(r){for(var i=0;i<o.length;i++)if((this===n||r.target===o[i])&&r.selector===e&&r.callback===t)return!0;return!1})},this},a=new function(){var e={fireOnAttributesModification:!1,onceOnly:!1,existing:!1};function t(e,t,o){return!(!i.matchesSelector(e,t.selector)||(e._id===n&&(e._id=r++),-1!=t.firedElems.indexOf(e._id))||(t.firedElems.push(e._id),0))}var o=(a=new c(function(e){var t={attributes:!1,childList:!0,subtree:!0};return e.fireOnAttributesModification&&(t.attributes=!0),t},function(e,n){e.forEach(function(e){var o=e.addedNodes,r=e.target,l=[];null!==o&&o.length>0?i.checkChildNodesRecursively(o,n,t,l):"attributes"===e.type&&t(r,n)&&l.push({callback:n.callback,elem:r}),i.callCallbacks(l,n)})})).bindEvent;return a.bindEvent=function(t,n,r){void 0===r?(r=n,n=e):n=i.mergeArrays(e,n);var l=i.toElementsArray(this);if(n.existing){for(var c=[],a=0;a<l.length;a++)for(var s=l[a].querySelectorAll(t),u=0;u<s.length;u++)c.push({callback:r,elem:s[u]});if(n.onceOnly&&c.length)return r.call(c[0].elem,c[0].elem);setTimeout(i.callCallbacks,1,c)}o.call(this,t,n,r)},a},s=new function(){var e={};function t(e,t){return i.matchesSelector(e,t.selector)}var n=(s=new c(function(){return{childList:!0,subtree:!0}},function(e,n){e.forEach(function(e){var o=e.removedNodes,r=[];null!==o&&o.length>0&&i.checkChildNodesRecursively(o,n,t,r),i.callCallbacks(r,n)})})).bindEvent;return s.bindEvent=function(t,o,r){void 0===r?(r=o,o=e):o=i.mergeArrays(e,o),n.call(this,t,o,r)},s};t&&f(t.fn),f(HTMLElement.prototype),f(NodeList.prototype),f(HTMLCollection.prototype),f(HTMLDocument.prototype),f(Window.prototype);var u={};return d(a,u,"unbindAllArrive"),d(s,u,"unbindAllLeave"),u}function d(e,t,n){i.addMethod(t,n,e.unbindEvent),i.addMethod(t,n,e.unbindEventWithSelectorOrCallback),i.addMethod(t,n,e.unbindEventWithSelectorAndCallback)}function f(e){e.arrive=a.bindEvent,d(a,e,"unbindArrive"),e.leave=s.bindEvent,d(s,e,"unbindLeave")}}(window,"undefined"==typeof jQuery?null:jQuery,void 0);var t={name:"leafletIconWrapper",props:{component:{type:String}},data:()=>({componentInstance:null}),mounted(){let e=this;document.arrive(e.componentClassSelector,function(){e.componentInstance||(e.componentInstance=e.instantiate(e.componentClassSelector,e))}),document.leave(e.componentClassSelector,function(){e.componentInstance.$destroy(),e.componentInstance=null})},methods:{instantiate(e,t){let n=t.$refs[t.componentClassRef];return new(Vue.extend(n.constructor))({...n.$options,el:e})}},computed:{componentClassRef:()=>`wrap-icon-${(()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))()}`,componentClassSelector(){return`.leaflet-marker-icon > .${this.componentClassRef}`}}};"undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());const n=t;var o=function(){var e=this.$createElement;return(this._self._c||e)(this.component,{ref:this.componentClassRef,tag:"component",class:this.componentClassRef},[this._t("default")],2)};o._withStripped=!0;const r=function(e,t,n,o,r,i,l,c,a,s){"boolean"!=typeof l&&(a=c,c=l,l=!1);const u="function"==typeof n?n.options:n;let d;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),o&&(u._scopeId=o),i?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,a(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=d):t&&(d=l?function(e){t.call(this,s(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,c(e))}),d)if(u.functional){const e=u.render;u.render=function(t,n){return d.call(n),e(t,n)}}else{const e=u.beforeCreate;u.beforeCreate=e?[].concat(e,d):[d]}return n}({render:o,staticRenderFns:[]},void 0,n,void 0,!1,void 0,!1,void 0,void 0,void 0),i={install(e,t={componentName:"l-icon-wrapper"}){e.component(t.componentName,r)}};let l=null;"undefined"!=typeof window?l=window.Vue:"undefined"!=typeof global&&(l=global.Vue),l&&l.use(i),e.default=r,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=vue-leaflet-icon-wrapper.min.js.map
